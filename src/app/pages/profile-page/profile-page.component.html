<div class="app-profile-page h-full">
  <div class="top-header">
    <fa-icon #img class="options-icon-action" (click)="menu.toggle($event)" [icon]="faEllipsisVertical" ></fa-icon>
    <p-slideMenu #menu [model]="items" [popup]="true"></p-slideMenu>
    <p-confirmDialog header="Confirmation" width="425"></p-confirmDialog>
  </div>
  <app-profile-top-section></app-profile-top-section>
  <app-profile-social-infos></app-profile-social-infos>
  <app-profile-stats-carousel [numberSeriesWatched]=numberSeriesWatched
                              [timeWatchedSeriesMonthDaysHours]=timeWatchedSeriesMonthDaysHours
                              [numberMoviesWatched]=numberMoviesWatched
                              [timeWatchedMovieMonthDaysHours]=timeWatchedMovieMonthDaysHours
  ></app-profile-stats-carousel>

  <p-divider></p-divider>

  <div class="tab-view-section">
    <p-tabView (onChange)="handleChangeTabView($event)">
      <p-tabPanel header="Series" class="series-panel">
        <div class="last-watched carousel-container">
          <div class="header-title">
            <h2 class="m-3 mb-3 text-white text-base">Last watched</h2>
            <span class="see-all-btn" (click)="openViewAllProfileList('lastWatchedSeries')"
                  *ngIf="lastWatchedSeriesTotal>10">See all</span>
          </div>
          <app-carousel-image-list #lastWatchedSeriesRef [items]="lastWatchedSeries" (eventEmitter)="openDetailsDialog($event)"></app-carousel-image-list>
        </div>
        <div class="favorites carousel-container">
          <div class="header-title">
            <h2 class="m-3 mb-3 text-white text-base">Favorites</h2>
            <span class="see-all-btn" (click)="openViewAllProfileList('favoritesSeries')"
                  *ngIf="favoritesSeriesTotal>10">See all</span>
          </div>
          <app-carousel-image-list #favoritesSeriesRef [items]="favoritesSeries" (eventEmitter)="openDetailsDialog($event)"></app-carousel-image-list>
        </div>
        <div class="watchlist carousel-container">
          <div class="header-title">
            <h2 class="m-3 mb-3 text-white text-base">Watchlist</h2>
            <span class="see-all-btn" (click)="openViewAllProfileList('watchlistSeries')"
                  *ngIf="watchlistSeriesTotal>10">See all</span>
          </div>
          <app-carousel-image-list #watchlistSeriesRef [items]="watchlistSeries" (eventEmitter)="openDetailsDialog($event)"></app-carousel-image-list>
        </div>
      </p-tabPanel>
      <p-tabPanel header="Movies" class="movies-panel">
        <div class="last-watched carousel-container" *ngIf="lastWatchedMovies.length">
          <div class="header-title">
            <h2 class="m-3 mb-3 text-white text-base">Last watched</h2>
            <span class="see-all-btn" (click)="openViewAllProfileList('lastWatchedMovies')"
                  *ngIf="lastWatchedMoviesTotal>10">See all</span>
          </div>
          <app-carousel-image-list #lastWatchedMoviesRef [items]="lastWatchedMovies" (eventEmitter)="openDetailsDialog($event)"></app-carousel-image-list>
        </div>
        <div class="favorites carousel-container" *ngIf="favoritesMovies.length">
          <div class="header-title">
            <h2 class="m-3 mb-3 text-white text-base">Favorites</h2>
            <span class="see-all-btn" (click)="openViewAllProfileList('favoritesMovies')"
                  *ngIf="favoritesMoviesTotal>10">See all</span>
          </div>
          <app-carousel-image-list #favoritesMoviesRef [items]="favoritesMovies" (eventEmitter)="openDetailsDialog($event)"></app-carousel-image-list>
        </div>
        <div class="watchlist carousel-container" *ngIf="watchlistMovies.length">
          <div class="header-title">
            <h2 class="m-3 mb-3 text-white text-base">Watchlist</h2>
            <span class="see-all-btn" (click)="openViewAllProfileList('watchlistMovies')"
                  *ngIf="watchlistMoviesTotal>10">See all</span>
          </div>
          <app-carousel-image-list #watchlistMoviesRef [items]="watchlistMovies" (eventEmitter)="openDetailsDialog($event)"></app-carousel-image-list>
        </div>
      </p-tabPanel>
    </p-tabView>
  </div>
</div>
<app-view-all-profile-list class="view-all-profile-list" [listData]="[]"
                           #viewAllProfileListRef></app-view-all-profile-list>

<app-media-details-dialog #mediaDetailsDialogRef></app-media-details-dialog>
